<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alternative Video Solutions</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .solution { background: white; padding: 20px; margin: 20px 0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        video { width: 100%; max-width: 600px; border-radius: 8px; }
        .button { background: #007bff; color: white; border: none; padding: 10px 20px; margin: 5px; border-radius: 4px; cursor: pointer; text-decoration: none; display: inline-block; }
        .button:hover { background: #0056b3; }
        iframe { border: none; border-radius: 8px; }
        .status { padding: 10px; margin: 10px 0; border-radius: 4px; background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <h1>üé¨ Alternative Video Solutions</h1>
    
    <!-- Solution 1: Direct Browser Video -->
    <div class="solution">
        <h3>Solution 1: Browser-Native Video Player</h3>
        <video controls width="800" height="450" poster="../images/project-2.PNG">
            <source src="1264992-Ecommerce-Project.mp4" type="video/mp4">
        </video>
        <div class="status" id="status1">Testing browser-native video...</div>
        <button class="button" onclick="testDirectPlay()">Test Direct Play</button>
        <a href="1264992-Ecommerce-Project.mp4" target="_blank" class="button">Open in New Tab</a>
    </div>
    
    <!-- Solution 2: Object URL Video -->
    <div class="solution">
        <h3>Solution 2: Blob/Object URL Video</h3>
        <video id="blobVideo" controls width="800" height="450" poster="../images/project-2.PNG">
        </video>
        <div class="status" id="status2">Ready to load via blob...</div>
        <button class="button" onclick="loadViaBlob()">Load via Blob</button>
    </div>
    
    <!-- Solution 3: Iframe Fallback -->
    <div class="solution">
        <h3>Solution 3: Iframe Video Player</h3>
        <iframe src="1264992-Ecommerce-Project.mp4" width="800" height="450" allowfullscreen title="E-commerce Platform Demo">
            <p>Your browser doesn't support iframe video playback.</p>
        </iframe>
        <div class="status">Using iframe for video display (some browsers support this)</div>
    </div>
    
    <!-- Solution 4: File Information -->
    <div class="solution">
        <h3>Solution 4: File Analysis & Alternative Formats</h3>
        <div id="fileAnalysis">Analyzing video file...</div>
        <div style="margin-top: 10px;">
            <button class="button" onclick="analyzeFile()">Analyze File</button>
            <button class="button" onclick="downloadFile()">Download Video</button>
            <button class="button" onclick="checkServerHeaders()">Check Server Headers</button>
        </div>
        
        <!-- Conversion suggestions -->
        <div style="margin-top: 15px; padding: 15px; background: #fff3cd; border-radius: 4px;">
            <h4>üîß Potential Solutions:</h4>
            <ul>
                <li><strong>Re-encode video:</strong> Use FFmpeg to re-encode: <code>ffmpeg -i input.mp4 -c:v libx264 -c:a aac output.mp4</code></li>
                <li><strong>Web-optimized format:</strong> Ensure H.264 video codec with AAC audio</li>
                <li><strong>Alternative hosting:</strong> Upload to YouTube/Vimeo and embed</li>
                <li><strong>Multiple formats:</strong> Provide WebM and OGV versions for better compatibility</li>
            </ul>
        </div>
    </div>
    
    <!-- Solution 5: External Video Hosting -->
    <div class="solution">
        <h3>Solution 5: External Video Hosting Examples</h3>
        <p>For production websites, consider using:</p>
        
        <!-- YouTube Example -->
        <div style="margin: 10px 0;">
            <h5>YouTube (Example)</h5>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="YouTube Example" frameborder="0" allowfullscreen></iframe>
        </div>
        
        <!-- Vimeo Example -->
        <div style="margin: 10px 0;">
            <h5>Vimeo (Example)</h5>
            <iframe src="https://player.vimeo.com/video/147365861" width="560" height="315" frameborder="0" allowfullscreen title="Vimeo Example"></iframe>
        </div>
        
        <div class="status">External hosting ensures compatibility and faster loading</div>
    </div>

    <script>
        function updateStatus(statusId, message, type = 'info') {
            const element = document.getElementById(statusId);
            if (element) {
                element.textContent = message;
                element.className = `status ${type === 'error' ? 'error' : type === 'success' ? 'success' : ''}`;
                if (type === 'error') element.style.background = '#f8d7da'; element.style.color = '#721c24';
                if (type === 'success') element.style.background = '#d4edda'; element.style.color = '#155724';
            }
        }
        
        function testDirectPlay() {
            const videos = document.querySelectorAll('video');
            const firstVideo = videos[0];
            
            if (firstVideo) {
                updateStatus('status1', 'Testing playback...', 'info');
                
                firstVideo.play().then(() => {
                    updateStatus('status1', '‚úÖ Direct play successful!', 'success');
                }).catch(err => {
                    updateStatus('status1', `‚ùå Direct play failed: ${err.message}`, 'error');
                    
                    // Try muted
                    firstVideo.muted = true;
                    firstVideo.play().then(() => {
                        updateStatus('status1', '‚úÖ Muted play successful!', 'success');
                    }).catch(err2 => {
                        updateStatus('status1', `‚ùå Even muted play failed: ${err2.message}`, 'error');
                    });
                });
            }
        }
        
        function loadViaBlob() {
            updateStatus('status2', 'Loading video via fetch...', 'info');
            
            fetch('1264992-Ecommerce-Project.mp4')
                .then(response => {
                    if (!response.ok) throw new Error(`HTTP ${response.status}`);
                    return response.blob();
                })
                .then(blob => {
                    const url = URL.createObjectURL(blob);
                    const video = document.getElementById('blobVideo');
                    
                    video.src = url;
                    
                    video.addEventListener('loadedmetadata', function() {
                        updateStatus('status2', `‚úÖ Blob video loaded! Duration: ${video.duration?.toFixed(2)}s`, 'success');
                        URL.revokeObjectURL(url); // Clean up
                    });
                    
                    video.addEventListener('error', function() {
                        updateStatus('status2', '‚ùå Blob video failed to load', 'error');
                        URL.revokeObjectURL(url);
                    });
                })
                .catch(err => {
                    updateStatus('status2', `‚ùå Fetch failed: ${err.message}`, 'error');
                });
        }
        
        function analyzeFile() {
            const analysisDiv = document.getElementById('fileAnalysis');
            
            fetch('1264992-Ecommerce-Project.mp4', { method: 'HEAD' })
                .then(response => {
                    const info = [
                        `üìÅ File Status: ${response.status} ${response.statusText}`,
                        `üìè Size: ${(parseInt(response.headers.get('content-length')) / 1024 / 1024).toFixed(2)} MB`,
                        `üé≠ MIME Type: ${response.headers.get('content-type') || 'Unknown'}`,
                        `üïí Last Modified: ${response.headers.get('last-modified') || 'Unknown'}`,
                        `üéØ Accept Ranges: ${response.headers.get('accept-ranges') || 'None'}`,
                        `üíæ Cache Control: ${response.headers.get('cache-control') || 'None'}`,
                        '',
                        'üîç Browser Codec Support:',
                        `‚Ä¢ MP4: ${document.createElement('video').canPlayType('video/mp4')}`,
                        `‚Ä¢ H.264: ${document.createElement('video').canPlayType('video/mp4; codecs="avc1.42E01E"')}`,
                        `‚Ä¢ WebM: ${document.createElement('video').canPlayType('video/webm')}`,
                        `‚Ä¢ VP9: ${document.createElement('video').canPlayType('video/webm; codecs="vp9"')}`,
                    ].join('<br>');
                    
                    analysisDiv.innerHTML = info;
                })
                .catch(err => {
                    analysisDiv.innerHTML = `‚ùå Analysis failed: ${err.message}`;
                });
        }
        
        function downloadFile() {
            const link = document.createElement('a');
            link.href = '1264992-Ecommerce-Project.mp4';
            link.download = 'ecommerce-demo.mp4';
            link.click();
        }
        
        function checkServerHeaders() {
            fetch('1264992-Ecommerce-Project.mp4', { method: 'HEAD' })
                .then(response => {
                    console.log('All Headers:');
                    for (const [key, value] of response.headers.entries()) {
                        console.log(`${key}: ${value}`);
                    }
                    alert('Server headers logged to console (F12)');
                })
                .catch(err => {
                    alert(`Failed to check headers: ${err.message}`);
                });
        }
        
        // Auto-analyze on load
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(analyzeFile, 1000);
        });
    </script>
</body>
</html>
